# 账户权限管理模块界面设计

## 1. 模块概述

账户权限管理模块提供角色管理、用户管理和审计日志功能，帮助企业实现精细化的权限控制。界面设计采用清晰的权限矩阵和直观的角色配置，强调安全性和可管理性。

## 2. 权限管理主页

### 2.1 页面布局

**整体结构**:
- **顶部导航**: 标签页切换（角色管理/用户管理/审计日志）
- **主要内容区**: 根据标签页显示不同内容
- **右侧快捷面板**: 宽度 `320px`，显示权限概览和快捷操作

### 2.2 权限概览卡片

**统计数据**:
- **角色数量**: 大数字展示
- **用户数量**: 大数字展示
- **活跃用户**: 大数字展示
- **权限变更**: 显示最近24小时的权限变更次数

**快捷操作**:
- **创建角色**: 按钮
- **邀请用户**: 按钮
- **查看日志**: 按钮
- **导出报告**: 按钮

## 3. 角色管理

### 3.1 角色列表

**页面标题**: "角色管理"

**预设角色卡片** (3个):
1. **管理员（Admin）**
   - **图标**: 皇冠图标，金色
   - **描述**: 拥有全部权限，可管理团队成员和系统设置
   - **用户数**: X位用户
   - **权限数**: 全部权限
   - **操作**: 查看详情、分配用户
   - **标识**: "系统角色"标签，不可删除

2. **编辑者（Editor）**
   - **图标**: 编辑图标，蓝色
   - **描述**: 可创建、编辑、分享提案和作品集
   - **用户数**: X位用户
   - **权限数**: XX项权限
   - **操作**: 查看详情、编辑、分配用户
   - **标识**: "系统角色"标签，可编辑权限

3. **查看者（Viewer）**
   - **图标**: 眼睛图标，绿色
   - **描述**: 仅可查看分配给自己的内容
   - **用户数**: X位用户
   - **权限数**: XX项权限
   - **操作**: 查看详情、编辑、分配用户
   - **标识**: "系统角色"标签，可编辑权限

**自定义角色列表**:
- **卡片展示**: 网格布局，3列
- **卡片内容**:
  - 角色名称
  - 角色描述
  - 用户数量
  - 权限数量
  - 创建时间
  - 操作：查看、编辑、复制、删除

**创建角色按钮**: 主要按钮，文字"创建自定义角色"

### 3.2 创建/编辑角色

**基本信息** (模态框或侧边抽屉):
- **角色名称**: 必填，文本输入框
- **角色描述**: 必填，文本域，最多200字
- **角色图标**: 图标选择器，选择预设图标或上传自定义图标
- **角色颜色**: 颜色选择器

**权限配置**:
- **权限分组**: 按功能模块分组展示
- **权限树**: 树形结构展示权限层级
- **全选/取消**: 每个分组有全选/取消按钮

**权限模块**:

1. **提案管理**
   - ☑ 查看提案
     - ☑ 查看所有提案
     - ☐ 仅查看自己的提案
   - ☑ 创建提案
   - ☑ 编辑提案
     - ☑ 编辑所有提案
     - ☐ 仅编辑自己的提案
   - ☑ 删除提案
     - ☑ 删除所有提案
     - ☐ 仅删除自己的提案
   - ☑ 分享提案
   - ☑ 导出提案
   - ☑ 查看提案统计

2. **作品集管理**
   - ☑ 查看作品集
   - ☑ 创建作品
   - ☑ 编辑作品
   - ☑ 删除作品
   - ☑ 发布作品
   - ☑ 管理公共展示

3. **模板管理**
   - ☑ 查看模板
   - ☑ 使用模板
   - ☑ 创建模板
   - ☑ 编辑模板
   - ☑ 删除模板
   - ☑ 分享模板

4. **预约管理**
   - ☑ 查看预约
   - ☑ 创建预约
   - ☑ 编辑预约
   - ☑ 取消预约
   - ☑ 管理预约设置

5. **日历管理**
   - ☑ 查看个人日历
   - ☑ 查看团队日历
   - ☑ 创建事件
   - ☑ 编辑事件
   - ☑ 删除事件
   - ☑ 管理共享日历

6. **AI功能**
   - ☑ 使用AI图像生成
   - ☑ 使用AI文案创作
   - ☑ 使用AI智能建议
   - ☑ 查看AI使用历史

7. **团队管理**
   - ☑ 查看团队成员
   - ☑ 邀请成员
   - ☑ 编辑成员信息
   - ☑ 禁用/删除成员
   - ☑ 分配项目
   - ☑ 查看绩效

8. **权限管理**
   - ☑ 查看角色
   - ☑ 创建角色
   - ☑ 编辑角色
   - ☑ 删除角色
   - ☑ 分配角色
   - ☑ 查看审计日志

9. **系统设置**
   - ☑ 品牌设置
   - ☑ 通知设置
   - ☑ 集成设置
   - ☑ 订阅管理
   - ☑ 数据导出

**权限继承**:
- **继承自**: 下拉选择器，选择要继承的角色
- **覆盖权限**: 复选框，允许覆盖继承的权限

**保存按钮**: 主要按钮，文字"保存角色"

### 3.3 角色详情

**基本信息**:
- **角色名称**: 字体 `24px`，字重 `Bold`
- **角色描述**: 字体 `14px`，颜色 `#9E9E9E`
- **创建时间**: 显示创建时间和创建人
- **最后修改**: 显示最后修改时间和修改人

**权限列表**:
- **分组展示**: 按功能模块分组
- **权限项**: 显示所有已授予的权限
- **权限说明**: 每个权限的详细说明

**用户列表**:
- **表格展示**: 用户姓名、邮箱、分配时间、操作
- **操作**: 移除角色
- **添加用户**: 按钮，为角色添加用户

**操作按钮**:
- **编辑角色**: 主要按钮
- **复制角色**: 次要按钮
- **删除角色**: 文本按钮（红色）

### 3.4 权限矩阵

**矩阵视图**:
- **行**: 角色列表
- **列**: 权限列表
- **单元格**: 复选框，表示该角色是否拥有该权限

**交互功能**:
- **点击单元格**: 切换权限开关
- **行全选**: 为角色授予所有权限
- **列全选**: 为所有角色授予该权限
- **批量操作**: 选择多个角色批量授予/撤销权限

**导出功能**: 按钮，导出权限矩阵为Excel

## 4. 用户管理

### 4.1 用户列表

**页面标题**: "用户管理"

**顶部操作栏**:
- **搜索框**: 搜索用户姓名、邮箱
- **筛选**: 按角色、状态、部门筛选
- **排序**: 按姓名、加入时间、最后活动排序
- **邀请按钮**: 主要按钮，文字"邀请用户"

**用户表格**:
- **列**:
  - 用户：头像 + 姓名 + 邮箱
  - 角色：角色标签（可多个）
  - 部门：部门名称
  - 状态：激活/停用/待激活
  - 最后活动：相对时间
  - 操作：编辑、禁用、删除

**表格样式**:
- **表头**: 背景色 `#F8F5F0`，字重 `Medium`
- **表格行**: 高度 `64px`
- **悬停状态**: 背景色 `#FAFAFA`
- **禁用用户**: 文字颜色变灰，显示"已禁用"标签

**批量操作**:
- **选择多个用户**: 复选框多选
- **批量操作**: 分配角色、禁用、删除

### 4.2 用户详情

**基本信息**:
- **头像**: 圆形头像，尺寸 `96px`
- **姓名**: 字体 `24px`，字重 `Bold`
- **邮箱**: 字体 `14px`，显示验证状态
- **手机号**: 字体 `14px`
- **状态**: 状态标签（激活/停用/待激活）

**角色信息**:
- **当前角色**: 显示所有已分配的角色
- **角色标签**: 彩色标签，显示角色名称
- **分配时间**: 显示角色分配时间
- **分配人**: 显示分配角色的人

**权限概览**:
- **权限列表**: 显示用户拥有的所有权限（汇总所有角色的权限）
- **分组展示**: 按功能模块分组
- **权限来源**: 显示权限来自哪个角色

**活动统计**:
- **登录次数**: 总登录次数
- **最后登录**: 最后登录时间和IP
- **活跃天数**: 最近30天的活跃天数
- **操作次数**: 各类操作的次数统计

**操作按钮**:
- **编辑用户**: 主要按钮
- **分配角色**: 次要按钮
- **禁用用户**: 文本按钮（红色）
- **删除用户**: 文本按钮（红色）

### 4.3 编辑用户

**基本信息**:
- **姓名**: 文本输入框
- **邮箱**: 文本输入框（不可修改）
- **手机号**: 文本输入框
- **部门**: 下拉选择器
- **职位**: 下拉选择器

**角色分配**:
- **角色列表**: 多选复选框，显示所有可用角色
- **角色说明**: 显示每个角色的权限说明
- **主要角色**: 单选，设置用户的主要角色

**账户状态**:
- **状态**: 单选按钮组（激活/停用）
- **停用原因**: 文本域（停用时必填）

**保存按钮**: 主要按钮，文字"保存"

### 4.4 邀请用户

**邀请表单**:
- **邮箱地址**: 必填，文本输入框，支持多个邮箱
- **姓名**: 可选，文本输入框
- **角色**: 必填，多选下拉
- **部门**: 可选，下拉选择器
- **邀请消息**: 可选，文本域

**邀请设置**:
- **有效期**: 下拉选择器（7天/30天/永久）
- **强制修改密码**: 开关，首次登录时强制修改密码
- **发送欢迎邮件**: 开关

**发送按钮**: 主要按钮，文字"发送邀请"

**邀请记录**:
- **表格展示**: 邮箱、姓名、角色、发送时间、状态、操作
- **状态**: 待接受/已接受/已拒绝/已过期
- **操作**: 重新发送、撤销邀请、复制链接

## 5. 审计日志

### 5.1 日志列表

**页面标题**: "审计日志"

**筛选条件**:
- **时间范围**: 日期范围选择器
- **操作类型**: 多选下拉
  - 登录/登出
  - 权限变更
  - 角色分配
  - 用户管理
  - 数据访问
  - 系统设置
- **操作人**: 搜索选择器
- **操作结果**: 单选（全部/成功/失败）
- **IP地址**: 文本输入框

**日志表格**:
- **列**:
  - 时间：精确到秒
  - 操作人：姓名 + 邮箱
  - 操作类型：类型标签
  - 操作内容：详细描述
  - IP地址：IP地址 + 地理位置
  - 设备：设备类型和浏览器
  - 结果：成功/失败
  - 操作：查看详情

**表格样式**:
- **失败操作**: 行背景色浅红色
- **重要操作**: 行左侧红色边框标识

**导出功能**: 按钮，导出日志为Excel或CSV

### 5.2 日志详情

**基本信息**:
- **操作时间**: 精确到毫秒
- **操作人**: 姓名、邮箱、角色
- **操作类型**: 类型标签
- **操作结果**: 成功/失败

**操作内容**:
- **操作描述**: 详细的操作描述
- **操作对象**: 被操作的对象（用户、角色、权限等）
- **变更前**: 显示变更前的状态
- **变更后**: 显示变更后的状态
- **变更对比**: 高亮显示变更部分

**环境信息**:
- **IP地址**: IP地址 + 地理位置
- **设备信息**: 操作系统、浏览器、设备类型
- **请求信息**: 请求URL、请求方法、请求参数

**关联日志**:
- **相关操作**: 显示相关的其他操作日志
- **时间轴**: 时间轴展示相关操作的顺序

### 5.3 安全事件

**事件类型**:
- **异常登录**: 异地登录、多次失败登录
- **权限滥用**: 频繁访问敏感数据
- **数据泄露**: 大量数据导出
- **账户异常**: 账户被禁用、密码被重置

**事件列表**:
- **表格展示**: 时间、事件类型、严重程度、相关用户、状态、操作
- **严重程度**: 低/中/高/紧急，不同颜色标识
- **状态**: 待处理/处理中/已处理/已忽略

**事件详情**:
- **事件描述**: 详细的事件描述
- **影响范围**: 受影响的用户、数据、系统
- **处理建议**: 系统自动生成的处理建议
- **处理记录**: 显示处理过程和结果

**事件处理**:
- **标记为已处理**: 按钮
- **添加备注**: 文本域
- **通知相关人**: 按钮

### 5.4 合规报告

**报告类型**:
- **权限变更报告**: 显示指定时间段内的所有权限变更
- **用户活动报告**: 显示用户的活动统计
- **数据访问报告**: 显示敏感数据的访问记录
- **安全事件报告**: 显示安全事件汇总

**报告生成**:
- **报告类型**: 下拉选择器
- **时间范围**: 日期范围选择器
- **包含内容**: 多选复选框
- **报告格式**: 单选（PDF/Excel/HTML）
- **生成按钮**: 主要按钮，文字"生成报告"

**报告列表**:
- **表格展示**: 报告名称、类型、生成时间、状态、操作
- **操作**: 下载、预览、删除

## 6. 高级功能

### 6.1 单点登录（SSO）

**SSO配置**:
- **启用SSO**: 开关
- **SSO类型**: 下拉选择器（SAML 2.0/OAuth 2.0/LDAP）
- **身份提供商**: 文本输入框
- **SSO URL**: 文本输入框
- **证书**: 文件上传器
- **测试连接**: 按钮

**用户映射**:
- **邮箱字段**: 文本输入框
- **姓名字段**: 文本输入框
- **部门字段**: 文本输入框
- **自动创建用户**: 开关
- **默认角色**: 下拉选择器

### 6.2 多因素认证（MFA）

**MFA设置**:
- **强制启用MFA**: 开关，为所有用户强制启用
- **MFA类型**: 多选复选框
  - 短信验证码
  - 邮箱验证码
  - 身份验证器应用（TOTP）
  - 硬件令牌
- **信任设备**: 开关，允许用户信任设备
- **信任期限**: 数字输入框（天）

**用户MFA状态**:
- **表格展示**: 用户、MFA状态、MFA类型、最后验证时间
- **操作**: 强制重置、禁用MFA

### 6.3 密码策略

**密码要求**:
- **最小长度**: 数字输入框（8-32）
- **复杂度要求**: 多选复选框
  - 包含大写字母
  - 包含小写字母
  - 包含数字
  - 包含特殊字符
- **密码历史**: 数字输入框，不能与最近N次密码相同
- **密码有效期**: 数字输入框（天），0表示永不过期
- **过期提醒**: 数字输入框（天），提前N天提醒

**登录安全**:
- **最大失败次数**: 数字输入框，超过后锁定账户
- **锁定时长**: 数字输入框（分钟）
- **会话超时**: 数字输入框（分钟）
- **并发登录**: 数字输入框，允许同时登录的设备数

**保存按钮**: 主要按钮，文字"保存策略"

### 6.4 IP白名单

**白名单管理**:
- **启用IP白名单**: 开关
- **白名单列表**: 表格展示IP地址、描述、添加时间、操作
- **添加IP**: 按钮

**添加IP表单**:
- **IP地址**: 文本输入框，支持单个IP或IP段
- **描述**: 文本输入框
- **有效期**: 日期选择器（永久/自定义）

**例外设置**:
- **管理员例外**: 开关，管理员不受IP限制
- **紧急访问**: 开关，允许紧急情况下临时访问

## 7. 响应式设计

### 7.1 桌面端 (>1024px)
- 完整权限矩阵展示
- 侧边快捷面板常驻
- 表格完整展示

### 7.2 平板端 (768px-1024px)
- 权限矩阵简化展示
- 快捷面板可折叠
- 表格适当简化

### 7.3 移动端 (<768px)
- 卡片视图为主
- 权限列表展示
- 简化操作流程
- 建议使用桌面端进行权限配置

## 8. 交互细节

### 8.1 微交互
- **权限切换**: 复选框切换动画
- **角色分配**: 标签添加/移除动画
- **日志加载**: 骨架屏加载

### 8.2 动画效果
- **页面切换**: 淡入淡出
- **模态框**: 从中心缩放出现
- **权限矩阵**: 单元格高亮动画

### 8.3 快捷键
- `Ctrl/Cmd + N`: 创建新角色
- `Ctrl/Cmd + F`: 搜索用户/角色
- `Ctrl/Cmd + S`: 保存设置
- `Esc`: 关闭模态框

## 9. 可访问性

### 9.1 键盘导航
- 所有交互元素支持Tab键导航
- 权限矩阵支持方向键导航
- Enter/Space键切换权限

### 9.2 屏幕阅读器
- 权限项提供完整描述
- 角色卡片提供详细信息
- 操作结果语音提示

### 9.3 色彩对比
- 文本与背景对比度≥4.5:1
- 权限状态使用图标+文字双重标识
- 支持高对比度模式

---
*本文档版本：1.0*
*最后更新：2026年2月4日*