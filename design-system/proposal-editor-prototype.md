# 提案编辑器原型规范文档

## ⚠️ 重要提示

**此原型需要用户确认后才能继续实施阶段4（前端开发）**

本文档提供了提案编辑器的详细原型设计方案，包含多种交互模式和布局选项。请仔细审阅各个方案，选择最适合您业务需求的设计，并提供反馈意见。

---

## 文档信息

- **版本**: 1.0
- **创建日期**: 2026年2月4日
- **状态**: 待用户确认
- **目标**: 为提案编辑器提供详细的原型设计方案，供用户选择和确认

---

## 目录

1. [整体布局与交互模型](#1-整体布局与交互模型)
2. [画布编辑界面](#2-画布编辑界面)
3. [产品报价模块集成](#3-产品报价模块集成)
4. [自动保存机制](#4-自动保存机制)
5. [版本管理界面](#5-版本管理界面)
6. [AI集成界面](#6-ai集成界面)
7. [协作功能](#7-协作功能)
8. [参考示例与用户偏好](#8-参考示例与用户偏好)

---

## 1. 整体布局与交互模型

### 1.1 布局方案对比

提供三种主要布局方案供您选择：

#### 方案A：经典四面板布局（推荐用于桌面端专业用户）

```
┌─────────────────────────────────────────────────────────────────┐
│  顶部工具栏 (56px)                                                │
│  [返回] [提案名称] [撤销/重做] [预览] [分享] [发布]                │
└─────────────────────────────────────────────────────────────────┘
┌──────────┬─────────────────────────────────────┬─────────────────┐
│          │                                     │                 │
│  左侧    │         中央画布区                   │    右侧属性     │
│  工具面板 │      (可缩放、拖拽)                  │      面板       │
│  (280px) │                                     │    (320px)      │
│          │   ┌─────────────────────┐           │                 │
│ • 页面   │   │                     │           │  选中元素的     │
│ • 模块   │   │    提案页面内容      │           │  属性设置       │
│ • 素材   │   │                     │           │                 │
│ • 图层   │   └─────────────────────┘           │  • 位置尺寸     │
│          │                                     │  • 样式设置     │
│          │                                     │  • 内容编辑     │
│          │                                     │                 │
└──────────┴─────────────────────────────────────┴─────────────────┘
```

**优点**：
- 功能区域划分清晰，专业设计软件的标准布局
- 左侧工具面板便于快速访问常用功能
- 右侧属性面板实时显示选中元素属性
- 中央画布区域宽敞，适合精细编辑

**缺点**：
- 需要较大屏幕空间（建议≥1440px宽度）
- 移动端需要大幅调整布局

**适用场景**：桌面端专业设计师，需要精细控制和高效操作

---

#### 方案B：简化三面板布局（推荐用于中小屏幕）

```
┌─────────────────────────────────────────────────────────────────┐
│  顶部工具栏 (56px)                                                │
│  [返回] [提案名称] [工具] [预览] [发布]                            │
└─────────────────────────────────────────────────────────────────┘
┌──────────┬─────────────────────────────────────────────────────┐
│          │                                                     │
│  左侧    │              中央画布区 + 右侧浮动面板                │
│  导航面板 │                                                     │
│  (240px) │   ┌─────────────────────┐    ┌──────────────┐      │
│          │   │                     │    │  属性面板    │      │
│ • 页面   │   │    提案页面内容      │    │  (浮动)      │      │
│   缩略图  │   │                     │    │              │      │
│          │   └─────────────────────┘    └──────────────┘      │
│ • 快速   │                                                     │
│   操作   │   [底部工具栏：添加元素、图层、样式]                  │
│          │                                                     │
└──────────┴─────────────────────────────────────────────────────┘
```

**优点**：
- 界面更简洁，画布区域更大
- 属性面板按需浮动显示，不占用固定空间
- 适合1024px-1440px屏幕宽度
- 底部工具栏便于快速添加元素

**缺点**：
- 浮动面板可能遮挡画布内容
- 功能入口相对分散

**适用场景**：中等屏幕用户，平衡功能性和画布空间

---

#### 方案C：全屏沉浸式布局（推荐用于演示和专注编辑）

```
┌─────────────────────────────────────────────────────────────────┐
│  [悬浮工具栏 - 自动隐藏]                                           │
│  ┌────────────────────────────────────────────────────┐          │
│  │ [返回] [提案名称] [工具] [预览] [发布]              │          │
│  └────────────────────────────────────────────────────┘          │
│                                                                 │
│                    ┌─────────────────────┐                      │
│                    │                     │                      │
│                    │   提案页面内容       │                      │
│                    │   (全屏展示)        │                      │
│                    │                     │                      │
│                    └─────────────────────┘                      │
│                                                                 │
│  [左侧浮动工具]              [右侧浮动属性]                       │
│  (按需显示)                  (按需显示)                          │
└─────────────────────────────────────────────────────────────────┘
```

**优点**：
- 最大化画布显示区域，沉浸式编辑体验
- 工具栏自动隐藏，减少干扰
- 适合演示和专注创作
- 支持快捷键快速调出工具面板

**缺点**：
- 需要记忆快捷键或习惯浮动面板
- 初学者可能不易发现功能入口

**适用场景**：熟练用户、演示模式、需要专注创作的场景

---

### 1.2 交互范式选择

#### 交互范式A：拖拽为主（直观型）

**核心交互**：
- 从左侧模块库拖拽元素到画布
- 拖拽调整元素位置和大小
- 拖拽排序页面和图层

**操作流程**：
```
1. 用户从左侧模块库选择"文本模块"
2. 按住鼠标左键拖拽到画布中央
3. 松开鼠标，文本模块出现在画布上
4. 拖拽边角调整大小，拖拽中心移动位置
5. 双击进入文本编辑模式
```

**视觉反馈**：
- 拖拽时显示半透明预览
- 画布显示对齐辅助线
- 自动吸附到网格和其他元素

**优点**：直观易懂，符合物理世界操作习惯
**缺点**：精确定位相对困难，需要配合数值输入

---

#### 交互范式B：点击为主（效率型）

**核心交互**：
- 点击模块库元素，自动添加到画布中心
- 点击选中元素，右侧面板编辑属性
- 使用数值输入框精确控制位置和尺寸

**操作流程**：
```
1. 用户点击左侧"文本模块"按钮
2. 文本模块自动出现在画布中心
3. 右侧属性面板自动展开
4. 用户在属性面板输入精确的X、Y坐标和宽高
5. 点击文本内容区域直接编辑文字
```

**视觉反馈**：
- 选中元素显示蓝色边框和控制点
- 属性面板实时同步显示当前值
- 修改属性时画布实时预览

**优点**：精确控制，适合专业用户，操作快速
**缺点**：需要学习成本，不够直观

---

#### 交互范式C：混合模式（平衡型，推荐）

**核心交互**：
- 支持拖拽和点击两种方式添加元素
- 拖拽调整位置，属性面板精确调整
- 智能辅助功能（对齐、分布、吸附）

**操作流程**：
```
1. 用户可以拖拽或点击添加元素（两种方式都支持）
2. 拖拽粗调位置，属性面板微调精确值
3. 智能对齐线自动显示，辅助对齐
4. 快捷键快速执行常用操作
5. 右键菜单提供上下文操作
```

**视觉反馈**：
- 拖拽时显示预览和对齐线
- 属性面板实时同步
- 智能提示和操作建议

**优点**：兼顾直观性和效率，适合各类用户
**缺点**：功能较多，需要良好的UI设计避免混乱

---

### 1.3 页面导航方式

#### 导航方式A：左侧缩略图导航

```
┌──────────┐
│ 页面1    │ ← 当前页
│ [缩略图] │
├──────────┤
│ 页面2    │
│ [缩略图] │
├──────────┤
│ 页面3    │
│ [缩略图] │
├──────────┤
│ [+ 新页] │
└──────────┘
```

**特点**：
- 所有页面一目了然
- 点击缩略图快速切换
- 拖拽调整页面顺序
- 右键菜单：复制、删除、重命名

---

#### 导航方式B：顶部标签页导航

```
┌────┬────┬────┬────┬───┐
│页面1│页面2│页面3│页面4│ + │
└────┴────┴────┴────┴───┘
```

**特点**：
- 类似浏览器标签页
- 节省垂直空间
- 支持拖拽排序
- 超过一定数量显示下拉菜单

---

#### 导航方式C：底部幻灯片导航

```
┌─────────────────────────────────────┐
│ [◀] [缩略图1][缩略图2][缩略图3] [▶] │
│      页面 2 / 10                    │
└─────────────────────────────────────┘
```

**特点**：
- 类似幻灯片播放器
- 适合演示模式
- 左右箭头快速翻页
- 显示当前页码

---

### 1.4 用户选择表单

**请选择您偏好的布局方案**：
- [ ] 方案A：经典四面板布局
- [ ] 方案B：简化三面板布局
- [ ] 方案C：全屏沉浸式布局
- [ ] 其他建议：_______________

**请选择您偏好的交互范式**：
- [ ] 范式A：拖拽为主
- [ ] 范式B：点击为主
- [ ] 范式C：混合模式（推荐）
- [ ] 其他建议：_______________

**请选择您偏好的页面导航方式**：
- [ ] 方式A：左侧缩略图导航
- [ ] 方式B：顶部标签页导航
- [ ] 方式C：底部幻灯片导航
- [ ] 其他建议：_______________

---

## 2. 画布编辑界面

### 2.1 内容块添加方式

#### 方式A：模块库拖拽

**界面布局**：
```
左侧模块库：
┌─────────────┐
│ 📝 文本模块  │
│ 🖼️  图片模块  │
│ 📹 视频模块  │
│ 📊 图表模块  │
│ 📦 容器模块  │
│ 🎨 装饰模块  │
└─────────────┘
```

**操作流程**：
1. 浏览左侧模块库
2. 鼠标悬停查看模块预览
3. 拖拽模块到画布
4. 松开鼠标放置模块
5. 自动显示编辑工具

**优点**：直观、可视化、易于理解
**缺点**：需要鼠标操作，效率相对较低

---

#### 方式B：快捷键 + 命令面板

**操作流程**：
1. 按下 `/` 键或 `Cmd+K` 打开命令面板
2. 输入"文本"搜索文本模块
3. 回车确认，模块自动添加到画布中心
4. 立即进入编辑状态

**命令面板示例**：
```
┌─────────────────────────────────────┐
│ 🔍 搜索模块或命令...                 │
├─────────────────────────────────────┤
│ 📝 添加文本模块                      │
│ 🖼️  添加图片模块                      │
│ 📊 添加图表模块                      │
│ ⚙️  打开设置                         │
│ 💾 保存提案                          │
└─────────────────────────────────────┘
```

**优点**：快速高效，适合键盘操作
**缺点**：需要记忆命令，学习成本较高

---

#### 方式C：右键上下文菜单

**操作流程**：
1. 在画布空白处右键
2. 弹出上下文菜单
3. 选择"添加元素" > "文本模块"
4. 模块出现在右键位置

**上下文菜单示例**：
```
┌─────────────────────┐
│ ➕ 添加元素 >        │
│ 📋 粘贴              │
│ 🎨 背景设置          │
│ 📏 显示网格          │
│ 🔍 缩放              │
└─────────────────────┘
```

**优点**：上下文相关，操作便捷
**缺点**：菜单层级可能较深

---

### 2.2 文本编辑体验

#### 体验A：所见即所得编辑器

**特点**：
- 双击文本块直接编辑
- 工具栏浮动显示在选中文本上方
- 支持富文本格式（粗体、斜体、颜色、字号）
- 实时预览效果

**工具栏示例**：
```
┌────────────────────────────────────────────┐
│ [B] [I] [U] [字号▼] [颜色] [对齐] [链接]   │
└────────────────────────────────────────────┘
```

**优点**：直观、实时反馈、易于使用
**缺点**：复杂格式可能需要多次操作

---

#### 体验B：Markdown编辑器

**特点**：
- 使用Markdown语法编辑
- 左侧编辑，右侧实时预览
- 支持快捷语法（# 标题、** 粗体）
- 适合技术用户

**界面示例**：
```
┌──────────────┬──────────────┐
│ # 标题       │  标题         │
│ **粗体**     │  粗体         │
│ *斜体*       │  斜体         │
│              │              │
│ [编辑区]     │  [预览区]     │
└──────────────┴──────────────┘
```

**优点**：快速输入、格式一致、适合长文本
**缺点**：需要学习Markdown语法

---

#### 体验C：混合编辑器（推荐）

**特点**：
- 默认所见即所得模式
- 支持切换到Markdown模式
- 智能识别Markdown语法自动转换
- 快捷键快速格式化

**切换按钮**：
```
[👁️ 可视化] [📝 Markdown] [⚡ 混合]
```

**优点**：灵活、适合各类用户
**缺点**：需要良好的模式切换设计

---

### 2.3 图片和媒体处理

#### 处理方式A：拖拽上传

**操作流程**：
1. 从本地文件管理器拖拽图片到画布
2. 图片自动上传到云端
3. 显示上传进度条
4. 上传完成后图片出现在画布上

**视觉反馈**：
```
拖拽时：
┌─────────────────┐
│  📤 拖拽到此处   │
│   上传图片      │
└─────────────────┘

上传中：
┌─────────────────┐
│  ⏳ 上传中...    │
│  [████████  ] 80%│
└─────────────────┘
```

**优点**：快速便捷、支持批量上传
**缺点**：需要浏览器支持拖拽API

---

#### 处理方式B：素材库选择

**操作流程**：
1. 点击"添加图片"按钮
2. 打开素材库面板
3. 浏览已上传的图片或上传新图片
4. 选择图片插入到画布

**素材库界面**：
```
┌─────────────────────────────────┐
│ 素材库                          │
├─────────────────────────────────┤
│ [上传] [我的图片] [团队图片]    │
├─────────────────────────────────┤
│ [🖼️] [🖼️] [🖼️] [🖼️]            │
│ [🖼️] [🖼️] [🖼️] [🖼️]            │
│                                 │
│ [选择] [取消]                   │
└─────────────────────────────────┘
```

**优点**：统一管理、可复用素材
**缺点**：操作步骤较多

---

#### 处理方式C：智能图片处理（推荐）

**特点**：
- 支持拖拽和素材库两种方式
- 自动压缩和优化图片
- 智能裁剪和调整尺寸
- 支持图片编辑（滤镜、调色）

**图片编辑工具**：
```
┌─────────────────────────────────┐
│ 🎨 图片编辑                      │
├─────────────────────────────────┤
│ 裁剪: [16:9] [4:3] [1:1] [自由] │
│ 滤镜: [原图] [黑白] [复古] [鲜艳]│
│ 亮度: [━━━━●━━━━━] 50%          │
│ 对比度: [━━━━━●━━━] 60%         │
│                                 │
│ [应用] [取消]                   │
└─────────────────────────────────┘
```

**优点**：功能完整、一站式处理
**缺点**：界面相对复杂

---

### 2.4 布局网格和吸附行为

#### 网格系统A：固定网格

**特点**：
- 10px × 10px 固定网格
- 元素自动吸附到网格点
- 网格线可显示/隐藏
- 适合精确对齐

**视觉效果**：
```
┌─┬─┬─┬─┬─┬─┬─┬─┬─┬─┐
├─┼─┼─┼─┼─┼─┼─┼─┼─┼─┤
├─┼─┼─┼─┼─┼─┼─┼─┼─┼─┤
├─┼─┼─┼─┼─┼─┼─┼─┼─┼─┤
└─┴─┴─┴─┴─┴─┴─┴─┴─┴─┘
```

**优点**：精确对齐、布局规整
**缺点**：灵活性受限

---

#### 网格系统B：响应式列网格

**特点**：
- 12列响应式网格系统
- 元素按列宽度对齐
- 支持跨列布局
- 适合响应式设计

**视觉效果**：
```
┌──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┐
│ 1│ 2│ 3│ 4│ 5│ 6│ 7│ 8│ 9│10│11│12│
└──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┘

元素可占据多列：
┌─────────┬─────────┬─────────┐
│  4列    │  4列    │  4列    │
└─────────┴─────────┴─────────┘
```

**优点**：响应式友好、灵活布局
**缺点**：需要理解列网格概念

---

#### 网格系统C：智能吸附（推荐）

**特点**：
- 无固定网格，智能吸附
- 自动对齐到其他元素边缘
- 显示对齐辅助线
- 等距分布辅助

**智能对齐线**：
```
┌─────────┐
│ 元素A   │
└─────────┘
     ↓ (对齐线)
┌─────────┐
│ 元素B   │ ← 自动对齐到元素A
└─────────┘
```

**优点**：灵活、智能、易用
**缺点**：可能需要手动微调

---

### 2.5 缩放和平移控制

#### 控制方式A：工具栏控制

**界面布局**：
```
┌─────────────────────────────────┐
│ [-] [50%] [100%] [150%] [+]     │
│ [适应画布] [实际大小]            │
└─────────────────────────────────┘
```

**操作**：
- 点击 [-] 缩小，[+] 放大
- 点击百分比选择预设缩放级别
- 点击"适应画布"自动调整到合适大小

**优点**：清晰明确、易于控制
**缺点**：需要点击操作，效率较低

---

#### 控制方式B：手势和快捷键

**操作方式**：
- **缩放**：Ctrl + 鼠标滚轮
- **平移**：空格 + 拖拽，或鼠标中键拖拽
- **重置**：Ctrl + 0

**视觉反馈**：
```
缩放时显示：
┌─────────┐
│  125%   │
└─────────┘

平移时光标变为手型：✋
```

**优点**：快速高效、符合专业软件习惯
**缺点**：需要学习快捷键

---

#### 控制方式C：混合控制（推荐）

**特点**：
- 支持工具栏、快捷键、手势三种方式
- 右下角显示缩放比例和快速控制
- 支持触摸屏双指缩放

**右下角控制器**：
```
┌─────────────┐
│ [-] 100% [+]│
│ [适应] [1:1]│
└─────────────┘
```

**优点**：灵活、适合各类用户
**缺点**：需要良好的UI设计

---

### 2.6 用户选择表单

**请选择您偏好的内容块添加方式**：
- [ ] 方式A：模块库拖拽
- [ ] 方式B：快捷键 + 命令面板
- [ ] 方式C：右键上下文菜单
- [ ] 支持多种方式
- [ ] 其他建议：_______________

**请选择您偏好的文本编辑体验**：
- [ ] 体验A：所见即所得编辑器
- [ ] 体验B：Markdown编辑器
- [ ] 体验C：混合编辑器（推荐）
- [ ] 其他建议：_______________

**请选择您偏好的图片处理方式**：
- [ ] 方式A：拖拽上传
- [ ] 方式B：素材库选择
- [ ] 方式C：智能图片处理（推荐）
- [ ] 其他建议：_______________

**请选择您偏好的网格系统**：
- [ ] 系统A：固定网格
- [ ] 系统B：响应式列网格
- [ ] 系统C：智能吸附（推荐）
- [ ] 其他建议：_______________

---

## 3. 产品报价模块集成

### 3.1 报价模块位置

#### 位置方案A：右侧独立面板

**布局示例**：
```
┌──────────┬─────────────────┬─────────────┐
│          │                 │ 产品报价    │
│  工具面板 │   画布区域       │ ┌─────────┐ │
│          │                 │ │产品1    │ │
│          │                 │ │¥5,999   │ │
│          │                 │ ├─────────┤ │
│          │                 │ │产品2    │ │
│          │                 │ │¥3,500   │ │
│          │                 │ ├─────────┤ │
│          │                 │ │总计:    │ │
│          │                 │ │¥9,499   │ │
│          │                 │ └─────────┘ │
└──────────┴─────────────────┴─────────────┘
```

**特点**：
- 报价信息始终可见
- 便于实时查看和修改
- 不影响画布编辑

**优点**：信息清晰、操作便捷
**缺点**：占用屏幕空间

---

#### 位置方案B：底部抽屉面板

**布局示例**：
```
┌─────────────────────────────────────┐
│          画布区域                    │
│                                     │
│                                     │
└─────────────────────────────────────┘
┌─────────────────────────────────────┐
│ 📊 产品报价 [展开/收起]              │
├─────────────────────────────────────┤
│ [产品1] ¥5,999  [产品2] ¥3,500      │
│ 总计: ¥9,499                        │
└─────────────────────────────────────┘
```

**特点**：
- 默认收起，按需展开
- 不占用主要编辑空间
- 横向显示更多产品

**优点**：节省空间、灵活显示
**缺点**：需要手动展开查看

---

#### 位置方案C：画布内嵌模块

**布局示例**：
```
┌─────────────────────────────────────┐
│          画布区域                    │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📊 产品报价表                │   │
│  ├─────────────────────────────┤   │
│  │ 产品1  数量: 1  ¥5,999      │   │
│  │ 产品2  数量: 2  ¥7,000      │   │
│  │ ─────────────────────────   │   │
│  │ 小计: ¥12,999               │   │
│  │ 税费: ¥780                  │   │
│  │ 总计: ¥13,779               │   │
│  └─────────────────────────────┘   │
└─────────────────────────────────────┘
```

**特点**：
- 报价表作为内容块嵌入提案
- 客户查看时直接显示
- 可自由调整位置和样式

**优点**：与提案内容整合、客户体验好
**缺点**：编辑时可能不够便捷

---

### 3.2 产品添加方式

#### 添加方式A：产品搜索选择器

**界面示例**：
```
┌─────────────────────────────────────┐
│ 🔍 搜索产品...                       │
├─────────────────────────────────────┤
│ 搜索结果：                           │
│                                     │
│ ┌─────────────────────────────┐    │
│ │ 🛋️ 现代沙发                  │    │
│ │ SKU: SOFA-001               │    │
│ │ 价格: ¥5,999                │    │
│ │ 库存: 50件                  │    │
│ │ [添加到报价]                │    │
│ └─────────────────────────────┘    │
│                                     │
│ ┌─────────────────────────────┐    │
│ │ 🪑 餐椅                      │    │
│ │ SKU: CHAIR-002              │    │
│ │ 价格: ¥899                  │    │
│ │ 库存: 100件                 │    │
│ │ [添加到报价]                │    │
│ └─────────────────────────────┘    │
└─────────────────────────────────────┘
```

**操作流程**：
1. 点击"添加产品"按钮
2. 打开产品搜索面板
3. 输入关键词搜索产品
4. 点击"添加到报价"
5. 产品出现在报价列表中

**优点**：快速查找、信息完整
**缺点**：需要知道产品名称或SKU

---

#### 添加方式B：产品分类浏览

**界面示例**：
```
┌──────────┬──────────────────────────┐
│ 分类     │ 产品列表                  │
├──────────┼──────────────────────────┤
│ 家具     │ [🛋️ 沙发] [🪑 椅子]       │
│ > 沙发   │ [🛏️ 床]   [📚 书柜]       │
│   椅子   │                          │
│   桌子   │ 现代沙发                  │
│ 灯具     │ ¥5,999                   │
│ 装饰品   │ 库存: 50件                │
│          │ [添加]                   │
└──────────┴──────────────────────────┘
```

**操作流程**：
1. 浏览左侧产品分类
2. 点击分类展开产品列表
3. 查看产品详情
4. 点击"添加"按钮

**优点**：适合浏览、发现新产品
**缺点**：查找特定产品较慢

---

#### 添加方式C：智能推荐（推荐）

**界面示例**：
```
┌─────────────────────────────────────┐
│ 💡 智能推荐                          │
├─────────────────────────────────────┤
│ 基于您的提案风格，推荐以下产品：      │
│                                     │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐│
│ │🛋️ 沙发  │ │🪑 椅子  │ │💡 灯具  ││
│ │¥5,999  │ │¥899    │ │¥1,299  ││
│ │[添加]  │ │[添加]  │ │[添加]  ││
│ └─────────┘ └─────────┘ └─────────┘│
│                                     │
│ [搜索产品] [浏览分类]                │
└─────────────────────────────────────┘
```

**特点**：
- AI分析提案风格和内容
- 推荐匹配的产品
- 支持搜索和分类浏览
- 显示常用产品

**优点**：智能、高效、易发现
**缺点**：需要AI支持

---

### 3.3 价格计算显示

#### 显示方式A：实时计算面板

**界面示例**：
```
┌─────────────────────────────────────┐
│ 💰 价格计算                          │
├─────────────────────────────────────┤
│ 产品明细：                           │
│ • 现代沙发 × 1      ¥5,999          │
│ • 餐椅 × 4          ¥3,596          │
│ • 吊灯 × 2          ¥2,598          │
│ ─────────────────────────────       │
│ 小计:               ¥12,193         │
│ 折扣 (5%):          -¥610           │
│ 税费 (6%):          +¥731           │
│ ─────────────────────────────       │
│ 总计:               ¥12,314         │
│                                     │
│ [调整折扣] [导出报价单]              │
└─────────────────────────────────────┘
```

**特点**：
- 实时显示价格明细
- 自动计算折扣和税费
- 支持手动调整
- 一键导出报价单

**优点**：透明、准确、便于调整
**缺点**：占用界面空间

---

#### 显示方式B：悬浮汇总卡片

**界面示例**：
```
右下角悬浮：
┌─────────────┐
│ 💰 报价汇总  │
├─────────────┤
│ 产品: 7件   │
│ 总计: ¥12,314│
│             │
│ [查看详情]  │
└─────────────┘
```

**特点**：
- 始终显示总价
- 不占用主要空间
- 点击查看详细明细

**优点**：简洁、不干扰编辑
**缺点**：详细信息需要点击查看

---

### 3.4 ERP产品数据集成UI

#### 集成方式A：实时同步指示器

**界面示例**：
```
产品卡片上显示：
┌─────────────────────────────────┐
│ 🛋️ 现代沙发                     │
│ SKU: SOFA-001                   │
│ 价格: ¥5,999                    │
│ 库存: 50件 ✅ (实时同步)         │
│ 最后更新: 2分钟前                │
│                                 │
│ [添加到报价]                    │
└─────────────────────────────────┘
```

**同步状态**：
- ✅ 已同步（绿色）
- 🔄 同步中（蓝色）
- ⚠️ 同步失败（黄色）
- ❌ 未连接（红色）

**优点**：状态清晰、实时更新
**缺点**：需要稳定的ERP连接

---

#### 集成方式B：手动刷新按钮

**界面示例**：
```
┌─────────────────────────────────────┐
│ 产品数据 [🔄 刷新] 最后更新: 5分钟前 │
├─────────────────────────────────────┤
│ 产品列表...                          │
└─────────────────────────────────────┘
```

**特点**：
- 用户手动触发同步
- 显示最后更新时间
- 避免频繁请求ERP

**优点**：可控、减少服务器负载
**缺点**：可能数据不是最新

---

#### 集成方式C：智能同步（推荐）

**特点**：
- 打开产品选择器时自动同步
- 添加产品时验证库存
- 后台定期更新（每5分钟）
- 库存不足时警告提示

**警告提示示例**：
```
┌─────────────────────────────────┐
│ ⚠️ 库存警告                      │
├─────────────────────────────────┤
│ 产品"现代沙发"库存不足           │
│ 当前库存: 2件                   │
│ 报价数量: 5件                   │
│                                 │
│ [调整数量] [联系供应商] [继续]  │
└─────────────────────────────────┘
```

**优点**：智能、可靠、用户体验好
**缺点**：实现复杂度较高

---

### 3.5 用户选择表单

**请选择报价模块的位置**：
- [ ] 方案A：右侧独立面板
- [ ] 方案B：底部抽屉面板
- [ ] 方案C：画布内嵌模块
- [ ] 其他建议：_______________

**请选择产品添加方式**：
- [ ] 方式A：产品搜索选择器
- [ ] 方式B：产品分类浏览
- [ ] 方式C：智能推荐（推荐）
- [ ] 其他建议：_______________

**请选择价格计算显示方式**：
- [ ] 方式A：实时计算面板
- [ ] 方式B：悬浮汇总卡片
- [ ] 其他建议：_______________

**请选择ERP集成方式**：
- [ ] 方式A：实时同步指示器
- [ ] 方式B：手动刷新按钮
- [ ] 方式C：智能同步（推荐）
- [ ] 其他建议：_______________

---

## 4. 自动保存机制

### 4.1 自动保存UX模式

#### 模式A：静默自动保存

**特点**：
- 每30秒自动保存一次
- 无明显提示，仅在状态栏显示
- 保存失败时才弹出提示

**状态栏显示**：
```
顶部工具栏右侧：
┌─────────────────────┐
│ ✓ 已保存 (2分钟前)   │
└─────────────────────┘

保存中：
┌─────────────────────┐
│ ⏳ 正在保存...       │
└─────────────────────┘

保存失败：
┌─────────────────────┐
│ ❌ 保存失败 [重试]   │
└─────────────────────┘
```

**优点**：不打扰用户、后台自动处理
**缺点**：用户可能不确定是否已保存

---

#### 模式B：明显提示自动保存

**特点**：
- 每次保存都显示Toast提示
- 保存成功显示绿色提示
- 保存失败显示红色警告

**Toast提示**：
```
右上角弹出：
┌─────────────────────┐
│ ✓ 自动保存成功       │
└─────────────────────┘
(3秒后自动消失)

保存失败：
┌─────────────────────────────┐
│ ❌ 自动保存失败              │
│ 网络连接中断，请检查网络      │
│ [重试] [手动保存]            │
└─────────────────────────────┘
```

**优点**：用户明确知道保存状态
**缺点**：频繁提示可能打扰用户

---

#### 模式C：智能自动保存（推荐）

**特点**：
- 检测到内容变化后3秒自动保存
- 状态栏显示保存状态
- 仅在保存失败时弹出提示
- 支持手动保存快捷键（Ctrl+S）

**状态指示器**：
```
顶部工具栏：
┌────────────────────────────────┐
│ [提案名称] • 未保存的更改       │
└────────────────────────────────┘

保存中：
┌────────────────────────────────┐
│ [提案名称] ⏳ 正在保存...       │
└────────────────────────────────┘

已保存：
┌────────────────────────────────┐
│ [提案名称] ✓ 所有更改已保存     │
└────────────────────────────────┘
```

**优点**：平衡提示和用户体验
**缺点**：需要精确的变化检测

---

### 4.2 保存冲突解决UI

#### 冲突场景：多人同时编辑

**冲突提示界面**：
```
┌─────────────────────────────────────┐
│ ⚠️ 检测到编辑冲突                    │
├─────────────────────────────────────┤
│ 用户"张三"在1分钟前修改了此提案      │
│                                     │
│ 您的版本：                           │
│ • 修改了封面图                       │
│ • 添加了3个产品                      │
│                                     │
│ 张三的版本：                         │
│ • 修改了标题                         │
│ • 更新了预算                         │
│                                     │
│ [保留我的更改] [使用张三的版本]      │
│ [查看详细对比] [合并更改]            │
└─────────────────────────────────────┘
```

**解决方案**：
1. **保留我的更改**：覆盖其他人的修改
2. **使用对方版本**：放弃自己的修改
3. **查看详细对比**：逐项对比差异
4. **合并更改**：智能合并两个版本

---

#### 冲突对比视图

**左右对比界面**：
```
┌──────────────────┬──────────────────┐
│ 您的版本         │ 张三的版本        │
├──────────────────┼──────────────────┤
│ 标题: 现代住宅   │ 标题: 简约住宅 ✓ │
│ 封面: [图A] ✓    │ 封面: [图B]      │
│ 预算: ¥200,000   │ 预算: ¥250,000 ✓ │
│                  │                  │
│ [选择此项]       │ [选择此项]       │
└──────────────────┴──────────────────┘

[应用选择] [取消]
```

**优点**：清晰对比、灵活选择
**缺点**：需要用户手动处理

---

### 4.3 离线编辑支持

#### 离线模式A：完全离线编辑

**特点**：
- 检测到离线自动切换到离线模式
- 所有更改保存到本地
- 恢复在线后自动同步

**离线提示**：
```
顶部横幅：
┌─────────────────────────────────────┐
│ 📡 您当前处于离线模式                │
│ 所有更改将保存到本地，恢复在线后同步  │
│ [了解更多]                           │
└─────────────────────────────────────┘
```

**同步提示**：
```
恢复在线后：
┌─────────────────────────────────────┐
│ ✓ 已恢复在线连接                     │
│ 正在同步离线期间的更改...             │
│ [████████████░░░░] 75%              │
└─────────────────────────────────────┘
```

**优点**：无缝离线体验
**缺点**：实现复杂，需要本地存储

---

#### 离线模式B：只读模式

**特点**：
- 离线时只能查看，不能编辑
- 显示明确的离线提示
- 恢复在线后自动刷新

**离线提示**：
```
┌─────────────────────────────────────┐
│ ⚠️ 网络连接已断开                    │
│ 当前为只读模式，无法保存更改          │
│ 请检查网络连接后重试                 │
│ [刷新] [关闭]                        │
└─────────────────────────────────────┘
```

**优点**：简单可靠、避免冲突
**缺点**：离线时无法工作

---

### 4.4 手动保存选项

#### 手动保存按钮位置

**位置A：顶部工具栏**
```
┌─────────────────────────────────────┐
│ [返回] [提案名称] ... [💾 保存] [发布]│
└─────────────────────────────────────┘
```

**位置B：快捷键提示**
```
文件菜单：
┌─────────────────┐
│ 💾 保存  Ctrl+S │
│ 📥 另存为        │
│ 📤 导出          │
└─────────────────┘
```

**位置C：右键菜单**
```
画布右键：
┌─────────────────┐
│ 💾 保存提案      │
│ 📋 复制          │
│ 📋 粘贴          │
└─────────────────┘
```

---

### 4.5 版本快照

#### 快照策略A：定时快照

**特点**：
- 每小时自动创建快照
- 保留最近24小时的快照
- 快照不占用版本号

**快照列表**：
```
┌─────────────────────────────────────┐
│ 📸 自动快照                          │
├─────────────────────────────────────┤
│ • 14:00 - 添加了产品报价             │
│ • 13:00 - 修改了封面图               │
│ • 12:00 - 更新了文案                 │
│ • 11:00 - 初始版本                   │
│                                     │
│ [恢复到此快照]                       │
└─────────────────────────────────────┘
```

**优点**：自动保护、可快速恢复
**缺点**：占用存储空间

---

#### 快照策略B：手动快照

**特点**：
- 用户手动创建快照
- 可添加快照说明
- 永久保存重要节点

**创建快照界面**：
```
┌─────────────────────────────────────┐
│ 📸 创建快照                          │
├─────────────────────────────────────┤
│ 快照名称：                           │
│ [完成初稿                          ] │
│                                     │
│ 说明（可选）：                       │
│ [完成了基本布局和内容，待添加产品   ] │
│ [报价                              ] │
│                                     │
│ [创建] [取消]                        │
└─────────────────────────────────────┘
```

**优点**：灵活、有意义的版本标记
**缺点**：需要用户主动操作

---

### 4.6 用户选择表单

**请选择自动保存UX模式**：
- [ ] 模式A：静默自动保存
- [ ] 模式B：明显提示自动保存
- [ ] 模式C：智能自动保存（推荐）
- [ ] 其他建议：_______________

**请选择冲突解决方式**：
- [ ] 自动解决（最新优先）
- [ ] 提示用户手动选择（推荐）
- [ ] 其他建议：_______________

**请选择离线编辑支持**：
- [ ] 模式A：完全离线编辑
- [ ] 模式B：只读模式
- [ ] 不需要离线支持
- [ ] 其他建议：_______________

**请选择快照策略**：
- [ ] 策略A：定时快照
- [ ] 策略B：手动快照
- [ ] 两者结合（推荐）
- [ ] 其他建议：_______________

---

## 5. 版本管理界面

### 5.1 版本历史显示方式

#### 显示方式A：时间轴视图

**界面布局**：
```
┌─────────────────────────────────────┐
│ 📜 版本历史                          │
├─────────────────────────────────────┤
│                                     │
│ ●━━━ 版本 3 (当前版本)              │
│ │    2026-02-04 15:30              │
│ │    张三：添加了产品报价            │
│ │    [查看] [恢复]                  │
│ │                                  │
│ ●━━━ 版本 2                         │
│ │    2026-02-04 14:00              │
│ │    李四：更新了封面图              │
│ │    [查看] [恢复]                  │
│ │                                  │
│ ●━━━ 版本 1                         │
│      2026-02-04 10:00              │
│      张三：创建提案                  │
│      [查看]                         │
│                                     │
└─────────────────────────────────────┘
```

**优点**：时间顺序清晰、易于理解
**缺点**：版本多时需要滚动

---

#### 显示方式B：列表视图

**界面布局**：
```
┌─────────────────────────────────────────────────────────┐
│ 版本 │ 时间           │ 修改人 │ 说明         │ 操作   │
├─────┼───────────────┼───────┼─────────────┼────────┤
│ v3  │ 02-04 15:30   │ 张三   │ 添加产品报价  │ [查看] │
│ v2  │ 02-04 14:00   │ 李四   │ 更新封面图    │ [查看] │
│ v1  │ 02-04 10:00   │ 张三   │ 创建提案      │ [查看] │
└─────────────────────────────────────────────────────────┘
```

**优点**：信息密集、一屏显示更多
**缺点**：视觉层次不够清晰

---

#### 显示方式C：卡片视图（推荐）

**界面布局**：
```
┌─────────────────────────────────────┐
│ 📜 版本历史                          │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 版本 3 (当前版本) ✓              │ │
│ │ 2026-02-04 15:30 · 张三         │ │
│ │ ─────────────────────────────   │ │
│ │ 添加了产品报价模块               │ │
│ │ • 添加沙发 ¥5,999               │ │
│ │ • 添加餐椅 ¥899                 │ │
│ │                                 │ │
│ │ [查看详情] [对比] [恢复]         │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 版本 2                           │ │
│ │ 2026-02-04 14:00 · 李四         │ │
│ │ ─────────────────────────────   │ │
│ │ 更新了封面图和标题               │ │
│ │                                 │ │
│ │ [查看详情] [对比] [恢复]         │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

**优点**：信息丰富、视觉清晰
**缺点**：占用空间较大

---

### 5.2 版本对比视图

#### 对比方式A：左右分屏对比

**界面布局**：
```
┌──────────────────┬──────────────────┐
│ 版本 2           │ 版本 3 (当前)     │
├──────────────────┼──────────────────┤
│ 标题: 现代住宅   │ 标题: 现代住宅    │
│ 封面: [图A]      │ 封面: [图B] 🔄   │
│ 页面: 5页        │ 页面: 6页 ➕     │
│ 产品: 无         │ 产品: 3个 ➕     │
│                  │                  │
│ [查看此版本]     │ [查看此版本]     │
└──────────────────┴──────────────────┘

图例：
🔄 已修改  ➕ 新增  ➖ 删除
```

**优点**：直观对比、差异明显
**缺点**：需要较大屏幕空间

---

#### 对比方式B：差异高亮视图

**界面布局**：
```
┌─────────────────────────────────────┐
│ 版本 2 → 版本 3 的变更               │
├─────────────────────────────────────┤
│ ✓ 标题: 现代住宅 (未变更)            │
│ 🔄 封面图: 已更换                    │
│    旧: cover-v1.jpg                 │
│    新: cover-v2.jpg                 │
│ ➕ 新增页面: 产品报价页              │
│ ➕ 新增产品:                         │
│    • 现代沙发 ¥5,999                │
│    • 餐椅 ¥899                      │
│    • 吊灯 ¥1,299                    │
│                                     │
│ [恢复到版本2] [保留版本3]            │
└─────────────────────────────────────┘
```

**优点**：变更清晰、易于理解
**缺点**：无法看到完整内容

---

#### 对比方式C：滑动对比（推荐）

**界面布局**：
```
┌─────────────────────────────────────┐
│ [版本2] ←━━━━●━━━━→ [版本3]         │
├─────────────────────────────────────┤
│                                     │
│     [提案预览]                       │
│   (拖动滑块查看差异)                 │
│                                     │
│ 变更摘要：                           │
│ • 封面图已更换                       │
│ • 新增1个页面                        │
│ • 新增3个产品                        │
│                                     │
│ [恢复到版本2]                        │
└─────────────────────────────────────┘
```

**优点**：交互直观、视觉效果好
**缺点**：实现复杂度较高

---

### 5.3 版本恢复UI

#### 恢复确认对话框

**界面示例**：
```
┌─────────────────────────────────────┐
│ ⚠️ 确认恢复版本                      │
├─────────────────────────────────────┤
│ 您确定要恢复到版本 2 吗？            │
│                                     │
│ 当前版本 (版本 3) 的以下更改将丢失：  │
│ • 新增的产品报价页                   │
│ • 添加的3个产品                      │
│ • 更新的封面图                       │
│                                     │
│ 💡 提示：恢复操作会创建新版本，       │
│    您可以随时切换回版本 3            │
│                                     │
│ [确认恢复] [取消]                    │
└─────────────────────────────────────┘
```

**恢复选项**：
1. **直接恢复**：立即恢复到选定版本
2. **创建副本**：基于旧版本创建新提案
3. **部分恢复**：只恢复特定内容

---

### 5.4 版本元数据显示

#### 元数据信息

**详细信息面板**：
```
┌─────────────────────────────────────┐
│ 版本 3 详细信息                      │
├─────────────────────────────────────┤
│ 版本号: v3                           │
│ 创建时间: 2026-02-04 15:30:25       │
│ 修改人: 张三 (zhang@example.com)    │
│ 文件大小: 2.5 MB                    │
│ 页面数: 6页                          │
│ 图片数: 12张                         │
│ 产品数: 3个                          │
│                                     │
│ 变更说明:                            │
│ 添加了产品报价模块，包含3个推荐产品。 │
│ 更新了封面图以匹配新的设计风格。      │
│                                     │
│ 标签: #初稿 #待审核                  │
│                                     │
│ [编辑说明] [添加标签]                │
└─────────────────────────────────────┘
```

**优点**：信息完整、便于管理
**缺点**：需要额外空间显示

---

### 5.5 版本分支（高级功能）

#### 分支管理界面

**分支视图**：
```
┌─────────────────────────────────────┐
│ 🌳 版本分支                          │
├─────────────────────────────────────┤
│                                     │
│ main (主分支)                        │
│ ●━━●━━●━━● v1-v2-v3-v4              │
│       │                             │
│       └━━● 方案A (分支)              │
│          └━━● v3a-v3b               │
│                                     │
│ [创建新分支] [合并分支]              │
└─────────────────────────────────────┘
```

**使用场景**：
- 创建多个设计方案
- 并行开发不同版本
- 客户选择后合并到主分支

**优点**：支持复杂版本管理
**缺点**：概念复杂，普通用户可能不理解

---

### 5.6 用户选择表单

**请选择版本历史显示方式**：
- [ ] 方式A：时间轴视图
- [ ] 方式B：列表视图
- [ ] 方式C：卡片视图（推荐）
- [ ] 其他建议：_______________

**请选择版本对比方式**：
- [ ] 方式A：左右分屏对比
- [ ] 方式B：差异高亮视图
- [ ] 方式C：滑动对比（推荐）
- [ ] 其他建议：_______________

**是否需要版本分支功能**：
- [ ] 需要（适合复杂项目）
- [ ] 不需要（保持简单）
- [ ] 未来再考虑
- [ ] 其他建议：_______________

---

## 6. AI集成界面

### 6.1 AI工具入口位置

#### 入口方案A：右侧固定面板

**界面布局**：
```
┌──────────┬─────────────────┬─────────────┐
│          │                 │ 🤖 AI助手   │
│  工具面板 │   画布区域       │ ┌─────────┐ │
│          │                 │ │图像生成 │ │
│          │                 │ │文案创作 │ │
│          │                 │ │智能建议 │ │
│          │                 │ └─────────┘ │
└──────────┴─────────────────┴─────────────┘
```

**优点**：始终可见、快速访问
**缺点**：占用屏幕空间

---

#### 入口方案B：右下角悬浮按钮

**界面布局**：
```
画布右下角：
┌─────────┐
│   🤖    │ ← 点击展开AI工具菜单
└─────────┘

展开后：
┌─────────────────┐
│ 🤖 AI助手        │
├─────────────────┤
│ 🎨 图像生成      │
│ ✍️ 文案创作      │
│ 💡 智能建议      │
│ 📜 历史记录      │
└─────────────────┘
```

**优点**：不占用空间、按需显示
**缺点**：可能不够明显

---

#### 入口方案C：顶部工具栏集成（推荐）

**界面布局**：
```
顶部工具栏：
┌─────────────────────────────────────┐
│ [返回] [提案名称] [🤖 AI] [预览] [发布]│
└─────────────────────────────────────┘

点击AI按钮展开下拉菜单：
┌─────────────────────┐
│ 🎨 AI图像生成        │
│ ✍️ AI文案创作        │
│ 💡 智能配色建议      │
│ 📊 智能布局优化      │
│ ─────────────────   │
│ 📜 查看历史记录      │
│ ⚙️ AI设置           │
└─────────────────────┘
```

**优点**：位置显眼、功能集中
**缺点**：需要点击展开

---

### 6.2 AI图像生成界面

#### 生成流程界面

**步骤1：输入描述**
```
┌─────────────────────────────────────┐
│ 🎨 AI图像生成                        │
├─────────────────────────────────────┤
│ 描述您想要的场景：                   │
│ ┌─────────────────────────────────┐ │
│ │现代简约风格的客厅，大落地窗，米白 │ │
│ │色沙发，木质茶几，绿植装饰...     │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 风格: [现代简约 ▼]                  │
│ 色调: [暖色调 ▼]                    │
│ 光照: [自然光 ▼]                    │
│ 尺寸: [1920×1080 ▼]                │
│ 数量: [4张]                         │
│                                     │
│ [生成图像]                           │
└─────────────────────────────────────┘
```

**步骤2：生成进度**
```
┌─────────────────────────────────────┐
│ 🎨 正在生成图像...                   │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ [████████████░░░░░░░░] 60%      │ │
│ │                                 │ │
│ │ 预计剩余时间: 15秒               │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 💡 提示：生成高质量图像需要一些时间， │
│    请耐心等待...                     │
│                                     │
│ [取消生成]                           │
└─────────────────────────────────────┘
```

**步骤3：结果展示**
```
┌─────────────────────────────────────┐
│ 🎨 生成结果 (4张)                    │
├─────────────────────────────────────┤
│ ┌─────────┐ ┌─────────┐             │
│ │ [图片1] │ │ [图片2] │             │
│ │  ✓选中  │ │         │             │
│ └─────────┘ └─────────┘             │
│ ┌─────────┐ ┌─────────┐             │
│ │ [图片3] │ │ [图片4] │             │
│ │         │ │         │             │
│ └─────────┘ └─────────┘             │
│                                     │
│ [应用到提案] [重新生成] [保存到素材库]│
└─────────────────────────────────────┘
```

---

### 6.3 AI文案生成界面

#### 文案生成面板

**界面示例**：
```
┌─────────────────────────────────────┐
│ ✍️ AI文案生成                        │
├─────────────────────────────────────┤
│ 文案类型: [项目概述 ▼]               │
│                                     │
│ 项目信息：                           │
│ • 项目名称: 现代简约住宅             │
│ • 项目类型: 住宅设计                 │
│ • 项目面积: 120㎡                   │
│ • 设计风格: 现代简约                 │
│ • 预算范围: 20-30万                 │
│                                     │
│ 文案风格: [专业正式 ▼]               │
│ 文案长度: [详细 ━━━●━━━ 简短]       │
│                                     │
│ 关键词（可选）：                     │
│ [舒适] [自然] [简约] [+ 添加]       │
│                                     │
│ [生成文案]                           │
└─────────────────────────────────────┘
```

**生成结果**：
```
┌─────────────────────────────────────┐
│ ✍️ 生成的文案                        │
├─────────────────────────────────────┤
│ 项目概述                             │
│                                     │
│ 本项目为120平米的现代简约风格住宅设计│
│ 方案。设计以"少即是多"的理念为核心， │
│ 通过简洁的线条、自然的材质和舒适的色│
│ 彩搭配，打造一个温馨而富有品质感的居│
│ 住空间...                            │
│                                     │
│ [复制] [编辑] [重新生成] [应用]     │
└─────────────────────────────────────┘
```

---

### 6.4 智能建议界面

#### 配色建议

**界面示例**：
```
┌─────────────────────────────────────┐
│ 💡 智能配色建议                      │
├─────────────────────────────────────┤
│ 基于您的提案风格，推荐以下配色方案：  │
│                                     │
│ 方案1: 温暖舒适                      │
│ ┌─────────────────────────────────┐ │
│ │ ███ ███ ███ ███ ███             │ │
│ │ 米白 原木 暖灰 金色 深棕          │ │
│ └─────────────────────────────────┘ │
│ [应用此方案]                         │
│                                     │
│ 方案2: 清新自然                      │
│ ┌─────────────────────────────────┐ │
│ │ ███ ███ ███ ███ ███             │ │
│ │ 白色 浅绿 木色 灰色 深绿          │ │
│ └─────────────────────────────────┘ │
│ [应用此方案]                         │
│                                     │
│ [查看更多方案]                       │
└─────────────────────────────────────┘
```

---

### 6.5 AI使用历史

**历史记录界面**：
```
┌─────────────────────────────────────┐
│ 📜 AI使用历史                        │
├─────────────────────────────────────┤
│ 今天                                 │
│ ┌─────────────────────────────────┐ │
│ │ 🎨 图像生成 - 15:30              │ │
│ │ "现代简约客厅"                   │ │
│ │ [查看] [再次使用]                │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ ✍️ 文案生成 - 14:20              │ │
│ │ "项目概述"                       │ │
│ │ [查看] [再次使用]                │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 昨天                                 │
│ ┌─────────────────────────────────┐ │
│ │ 💡 配色建议 - 昨天 16:45         │ │
│ │ "温暖舒适方案"                   │ │
│ │ [查看] [再次使用]                │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

---

### 6.6 用户选择表单

**请选择AI工具入口位置**：
- [ ] 方案A：右侧固定面板
- [ ] 方案B：右下角悬浮按钮
- [ ] 方案C：顶部工具栏集成（推荐）
- [ ] 其他建议：_______________

**您最需要的AI功能**（可多选）：
- [ ] AI图像生成
- [ ] AI文案创作
- [ ] 智能配色建议
- [ ] 智能布局优化
- [ ] 其他：_______________

---

## 7. 协作功能

### 7.1 实时协作指示器

#### 协作模式A：用户头像显示

**界面示例**：
```
顶部工具栏右侧：
┌─────────────────────────────────────┐
│ ... [预览] [发布] 👤👤 [分享]        │
└─────────────────────────────────────┘
         ↑
    当前在线用户头像

悬停显示详情：
┌─────────────────┐
│ 正在编辑:       │
│ • 张三 (你)     │
│ • 李四          │
│ • 王五 (查看中) │
└─────────────────┘
```

**优点**：清晰显示协作状态
**缺点**：用户多时显示困难

---

#### 协作模式B：光标跟随

**特点**：
- 显示其他用户的光标位置
- 光标旁显示用户名
- 不同用户使用不同颜色

**视觉效果**：
```
画布上显示：
┌─────────────────────────────────────┐
│                                     │
│   [元素A]                           │
│                                     │
│              ↖️ 李四 (蓝色光标)      │
│                                     │
│   [元素B]                           │
│         ↖️ 王五 (绿色光标)           │
│                                     │
└─────────────────────────────────────┘
```

**优点**：实时感强、协作直观
**缺点**：可能造成干扰

---

### 7.2 评论和批注系统

#### 评论方式A：侧边评论面板

**界面布局**：
```
┌──────────┬─────────────────┬─────────────┐
│          │                 │ 💬 评论     │
│  工具面板 │   画布区域       │ ┌─────────┐ │
│          │                 │ │张三:    │ │
│          │                 │ │封面图不 │ │
│          │                 │ │错！     │ │
│          │                 │ │2分钟前  │ │
│          │                 │ ├─────────┤ │
│          │                 │ │李四:    │ │
│          │                 │ │建议调整 │ │
│          │                 │ │配色     │ │
│          │                 │ │5分钟前  │ │
│          │                 │ └─────────┘ │
└──────────┴─────────────────┴─────────────┘
```

**优点**：评论集中、易于管理
**缺点**：不够直观

---

#### 评论方式B：画布内批注（推荐）

**界面示例**：
```
画布上显示批注点：
┌─────────────────────────────────────┐
│                                     │
│   [封面图] 💬1                      │
│            ↑                        │
│         点击查看评论                 │
│                                     │
│   [文本块] 💬3                      │
│                                     │
└─────────────────────────────────────┘

点击批注点展开：
┌─────────────────────┐
│ 💬 评论 (3条)        │
├─────────────────────┤
│ 张三: 这段文字很好   │
│ 李四: 同意           │
│ 王五: 建议加粗显示   │
│                     │
│ [回复...]           │
└─────────────────────┘
```

**优点**：位置精确、上下文清晰
**缺点**：批注多时可能混乱

---

### 7.3 权限管理

#### 权限级别

**权限设置界面**：
```
┌─────────────────────────────────────┐
│ 👥 协作成员                          │
├─────────────────────────────────────┤
│ 张三 (你)                            │
│ 角色: 所有者                         │
│ 权限: 完全控制                       │
│                                     │
│ 李四                                 │
│ 角色: [编辑者 ▼]                    │
│ 权限: 可编辑、可评论                 │
│ [移除]                               │
│                                     │
│ 王五                                 │
│ 角色: [查看者 ▼]                    │
│ 权限: 仅查看、可评论                 │
│ [移除]                               │
│                                     │
│ [+ 邀请成员]                         │
└─────────────────────────────────────┘
```

**权限级别说明**：
- **所有者**：完全控制，包括删除和转让
- **编辑者**：可编辑内容、添加评论
- **查看者**：只能查看和评论
- **评论者**：只能添加评论

---

### 7.4 用户选择表单

**是否需要实时协作功能**：
- [ ] 需要（多人同时编辑）
- [ ] 不需要（单人使用）
- [ ] 未来再考虑
- [ ] 其他建议：_______________

**请选择评论方式**：
- [ ] 方式A：侧边评论面板
- [ ] 方式B：画布内批注（推荐）
- [ ] 两者结合
- [ ] 其他建议：_______________

---

## 8. 参考示例与用户偏好

### 8.1 参考示例收集

**请提供您喜欢的编辑器参考**：

#### 在线设计工具参考
- [ ] Figma - https://figma.com
- [ ] Canva - https://canva.com
- [ ] Notion - https://notion.so
- [ ] 其他：_______________

#### 您喜欢的交互特点
请描述您在使用其他工具时喜欢的功能或交互方式：
```
示例：
- 我喜欢Figma的拖拽交互，非常流畅
- Canva的模板库很丰富，易于使用
- Notion的块编辑器很灵活
```

您的反馈：
```
_________________________________________________
_________________________________________________
_________________________________________________
```

---

### 8.2 用户偏好调查

#### 使用场景

**您主要的使用场景**（可多选）：
- [ ] 独立设计师，为客户制作提案
- [ ] 设计公司，团队协作制作提案
- [ ] 销售人员，快速生成产品方案
- [ ] 其他：_______________

**您的技术水平**：
- [ ] 初学者（不熟悉设计软件）
- [ ] 中级用户（使用过类似工具）
- [ ] 高级用户（熟练使用专业设计软件）

**您的设备**：
- [ ] 主要使用桌面电脑（屏幕≥24寸）
- [ ] 主要使用笔记本电脑（13-15寸）
- [ ] 需要平板电脑支持
- [ ] 需要手机端支持

---

### 8.3 功能优先级

**请对以下功能按重要性排序**（1=最重要，10=最不重要）：

- [ ] 拖拽式编辑
- [ ] 丰富的模板库
- [ ] AI辅助生成
- [ ] 产品报价集成
- [ ] 实时协作
- [ ] 版本管理
- [ ] 自动保存
- [ ] 响应式预览
- [ ] 导出PDF
- [ ] 数据分析

---

### 8.4 特殊需求

**您是否有特殊需求**：

#### 行业特定需求
```
示例：
- 需要支持3D模型展示
- 需要集成VR预览
- 需要支持视频嵌入
```

您的需求：
```
_________________________________________________
_________________________________________________
_________________________________________________
```

#### 品牌定制需求
- [ ] 需要自定义品牌色
- [ ] 需要自定义Logo位置
- [ ] 需要自定义字体
- [ ] 需要白标解决方案

#### 集成需求
- [ ] 需要集成CRM系统
- [ ] 需要集成ERP系统
- [ ] 需要集成项目管理工具
- [ ] 其他：_______________

---

## 9. 总结与下一步

### 9.1 原型确认清单

请确认您已审阅以下所有部分：

- [ ] 1. 整体布局与交互模型
- [ ] 2. 画布编辑界面
- [ ] 3. 产品报价模块集成
- [ ] 4. 自动保存机制
- [ ] 5. 版本管理界面
- [ ] 6. AI集成界面
- [ ] 7. 协作功能
- [ ] 8. 参考示例与用户偏好

### 9.2 反馈提交

**请将您的选择和反馈整理后提交**：

#### 提交方式
1. 填写本文档中的所有选择表单
2. 添加您的具体建议和需求
3. 提供参考链接或截图（如有）
4. 发送至：[项目负责人邮箱]

#### 反馈截止日期
请在 **[具体日期]** 前提交反馈，以便我们及时进入开发阶段。

---

### 9.3 后续流程

**确认后的开发流程**：

1. **原型确认**（当前阶段）
   - 用户审阅原型方案
   - 提供反馈和选择
   - 确认最终方案

2. **详细设计**（1-2周）
   - 基于用户反馈细化设计
   - 制作高保真原型
   - 用户二次确认

3. **技术准备**（1周）
   - 搭建开发环境
   - 准备技术架构
   - 分配开发任务

4. **前端开发**（4-6周）
   - 实现核心功能
   - 集成各个模块
   - 进行测试和优化

5. **用户测试**（1-2周）
   - 内部测试
   - 用户试用
   - 收集反馈

6. **正式发布**
   - 修复问题
   - 优化性能
   - 上线部署

---

## 10. 附录

### 10.1 术语表

- **画布（Canvas）**：提案内容的编辑区域
- **模块（Module）**：可添加到提案的内容单元
- **版本（Version）**：提案的历史保存状态
- **快照（Snapshot）**：自动保存的临时版本
- **协作（Collaboration）**：多人同时编辑功能
- **批注（Annotation）**：在特定位置添加的评论

### 10.2 快捷键参考

**通用操作**：
- `Ctrl/Cmd + S` - 保存
- `Ctrl/Cmd + Z` - 撤销
- `Ctrl/Cmd + Y` - 重做
- `Ctrl/Cmd + C` - 复制
- `Ctrl/Cmd + V` - 粘贴
- `Delete` - 删除选中元素

**画布操作**：
- `Ctrl/Cmd + 滚轮` - 缩放
- `空格 + 拖拽` - 平移画布
- `Ctrl/Cmd + 0` - 重置缩放

**快速功能**：
- `/` 或 `Ctrl/Cmd + K` - 打开命令面板
- `Ctrl/Cmd + P` - 预览
- `Ctrl/Cmd + Shift + P` - 发布

### 10.3 联系方式

**项目团队**：
- 产品经理：[姓名] - [邮箱]
- 设计负责人：[姓名] - [邮箱]
- 技术负责人：[姓名] - [邮箱]

**技术支持**：
- 邮箱：support@example.com
- 电话：400-XXX-XXXX
- 工作时间：周一至周五 9:00-18:00

---

## ⚠️ 再次提醒

**此原型需要用户确认后才能继续实施阶段4（前端开发）**

请仔细审阅所有方案，填写选择表单，并提供您的宝贵意见。您的反馈将直接影响最终产品的设计和实现。

感谢您的时间和参与！

---

**文档版本**: 1.0  
**创建日期**: 2026年2月4日  
**最后更新**: 2026年2月4日  
**文档状态**: 待用户确认

